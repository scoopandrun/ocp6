<div class="card mb-3 trick-card">
  <a href="{{ path('trick.single', {id: trick.id, slug: trick.slug}) }}" title="{{ trick.name }}">
    {% set fallbackMainPicture = asset('images/fallback-trick-image-640.jpg') %}
    <img
      src="{{ image('tricks', trick.mainPicture)|default(fallbackMainPicture) }}"
      class="w-100 rounded-top"
      alt="{{ trick.name }}"
    >
  </a>
  
  <div class="card-body text-muted">
    <div class="d-flex justify-content-between">
      <a href="{{ path('trick.single', {id: trick.id, slug: trick.slug}) }}" class="text-decoration-none" title="{{ trick.name }}">
        <h5 class="card-title">{{ trick.name }}</h5>
      </a>

      <div class="d-flex">
        {% if is_granted('trick_edit', trick) %}
          <a href="{{ path('trick.edit', {id: trick.id}) }}" class="text-decoration-none" data-action="edit" title="Edit">
            <span class="material-symbols-outlined">edit</span>
          </a>
        {% endif %}
        {% if is_granted('trick_delete', trick) %}
          <form action="{{ path('trick.delete', {id: trick.id}) }}" method="post">
            <input type="hidden" name="_method" value="DELETE">
            <button class="btn btn-link align-baseline p-0 m-0" data-action="delete" title="Delete">
              <span class="material-symbols-outlined">delete</span>
            </button>
          </form>
        {% endif %}
      </div>
    </div>

    {% if trick.category %}
      <p class="badge bg-secondary">{{ trick.category|lower }}</p>
    {% endif %}
  </div>
</div>
